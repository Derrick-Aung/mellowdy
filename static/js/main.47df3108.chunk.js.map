{"version":3,"sources":["config.js","actions/melodyActions.js","actions/types.js","hash.js","components/Header.js","actions/authActions.js","actions/actions.js","components/TagBar/Tag.js","components/TagBar/TagBar.js","components/TagBar/TagConstants.js","components/HomePage/PrimaryContainer.js","components/HomePage/ArtistContainer.js","components/Buttons/BtnAddToLib.js","components/Buttons/BtnAddToPlaylist.js","components/HomePage/SongContainer.js","components/HomePage/AlbumContainer.js","components/HomePage/Home.js","reducers/melodyReducer.js","reducers/authReducer.js","reducers/actionReducer.js","reducers/rootReducer.js","store.js","App.js","serviceWorker.js","index.js"],"names":["authEndPoint","scopes","baseUri","saveTrackToLibUri","track_id","saveTrackToPlaylistUri","playlist_id","albumUri","album_id","trackUri","clientID","redirectUri","fetchRecentlyPlayed","token","dispatch","url","Axios","get","headers","then","recentlyPlayedSongs","tracks","data","items","map","song","track","type","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","connect","state","auth","id","general","setToken","getUserProfileId","res","user_id","getUserPlaylists","userPlaylistsUri","user_playlists","props","useState","collapsed","setCollapsed","useEffect","_token","access_token","Navbar","dark","NavbarBrand","href","className","NavbarToggler","onClick","Collapse","isOpen","navbar","Nav","NavItem","NavLink","join","Tag","handleClick","setIsFetching","changeTab","name","this","Component","TagBar","PrimaryContainer","dataReady","currentDisplay","isFetching","currentTab","fetchUserTopTracks","fetchCharts","console","log","fetchGenre","recentlyPlayed","userTopTracks","charts","genreTracks","prevProps","prevState","setState","filter","preview_url","index","key","fetchAudioAndDetails","src","album","images","alt","mapDispatchToProps","genre","genre_string","escape","genreTracksUri","genre_tracks","melodies","recently_played_songs","user_top_tracks","ArtistContainer","artist_top_tracks","artist_albums","artist","artist_id","artistAblumsUri","artistUri","method","curAlbum","currentArtistId","getArtistDetails","getArtistTopTracks","getArtistAlbums","genres","setGenre","followers","total","album_group","playAlbum","BtnAddToLib","addTrackToLib","trackInLibrary","BtnAddToPlaylist","showMenu","bind","closeMenu","event","preventDefault","document","addEventListener","dropdownMenu","contains","target","removeEventListener","ref","element","playlist","addTrackToPlaylist","SongContainer","currentTrackId","getTrack","artists","AlbumContainer","currentAlbumId","release_date","Home","showOnlyPlayable","songPlaying","audio","currentTrack","currentGenre","track_preview_url","playAudio","checkUserLibUri","result","Audio","curTrack","curAlbumId","curArtistId","pause","play","checkTrackInLib","tab","boolean","track_uri","initialState","combineReducers","action","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","App","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.47df3108.chunk.js","sourcesContent":["export const authEndPoint = \"https://accounts.spotify.com/authorize\"\r\nexport const scopes = ['user-read-recently-played', 'user-top-read', 'user-library-modify', 'user-library-read', 'playlist-modify-public']\r\nexport const baseUri = \"https://api.spotify.com/v1/\"\r\n\r\nexport const checkUserLibUri = (track_id) =>  `https://api.spotify.com/v1/me/tracks/contains?ids=${track_id}`\r\nexport const saveTrackToLibUri = (track_id) => `https://api.spotify.com/v1/me/tracks?ids=${track_id}`\r\nexport const saveTrackToPlaylistUri = (playlist_id, track_id) => `https://api.spotify.com/v1/playlists/${playlist_id}/tracks?uris=${track_id}`\r\nexport const userPlaylistsUri = (user_id) => `https://api.spotify.com/v1/users/${user_id}/playlists`\r\nexport const artistTopTracksUri = (id) => {return `https://api.spotify.com/v1/artists/${id}/top-tracks?country=from_token`}\r\nexport const artistAblumsUri = (artist_id) => {return `https://api.spotify.com/v1/artists/${artist_id}/albums?include_groups=album,single&limit=20`}\r\nexport const artistUri = (artist_id) => {return `https://api.spotify.com/v1/artists/${artist_id}`}\r\nexport const albumUri = (album_id) => {return `https://api.spotify.com/v1/albums/${album_id}`}\r\nexport const trackUri = (track_id) => {return `https://api.spotify.com/v1/tracks/${track_id}`}\r\nexport const convertTrackIdToUri = (track_id) => {return `spotify:track:${track_id}`}\r\nexport const genreTracksUri = (genre) => {\r\n    const genre_string = escape(`genre:\"${genre}\"`)\r\n    return `https://api.spotify.com/v1/search?query=${genre_string}&type=track&limit=50`\r\n}\r\n\r\n// dev config\r\n// export const clientID = \"408248c6530e45e7a4975fbfa6ce0948\"\r\n// export const redirectUri = \"http://localhost:3000\"\r\n\r\n// prod config\r\nexport const clientID = \"e4cea7caa08242babef9202eda8e472f\"\r\nexport const redirectUri = \"https://derrick-aung.github.io/mellowdy\"\r\n\r\n// browse by genre\r\n//\"https://api.spotify.com/v1/search?query=genre%3A%22burmese+pop%22&type=track&offset=0&limit=20\"","import {FETCH_RECENTLY_PLAYED,\r\n    FETCH_USER_TOP_TRACKS,\r\n    FETCH_CHARTS,\r\n    FETCH_USER_PLAYLISTS,\r\n    FETCH_GENRE_TRACKS} from './types'\r\nimport Axios from 'axios'\r\nimport {baseUri, userPlaylistsUri, genreTracksUri} from '../config'\r\n\r\nexport function fetchRecentlyPlayed(token){\r\n    return function(dispatch){\r\n        const url = `${baseUri}me/player/recently-played?limit=50`\r\n        Axios.get(url, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then( recentlyPlayedSongs => {\r\n                // The data we want are in the 'track' value\r\n                let tracks = recentlyPlayedSongs.data.items.map(\r\n                    (song) => {return song.track}\r\n                )\r\n                dispatch({\r\n                    type: FETCH_RECENTLY_PLAYED,\r\n                    recentlyPlayedSongs: tracks\r\n                })\r\n            }\r\n        )\r\n    }\r\n} \r\n\r\nexport function fetchUserTopTracks(token){\r\n    return function(dispatch){\r\n        const url = `${baseUri}me/top/tracks?limit=50`\r\n        Axios.get(url, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then( userTopTracks => {\r\n                dispatch({\r\n                    type: FETCH_USER_TOP_TRACKS,\r\n                    userTopTracks: userTopTracks.data.items\r\n                })\r\n            }\r\n        )\r\n    }\r\n} \r\n\r\n//https://api.spotify.com/v1/me??&offset=0&market=AU\r\n//\"https://api.spotify.com/v1/playlists/37i9dQZEVXbLiRSasKsNU9\"\r\n//api.spotify.com/v1/playlists/37i9dQZEVXbMDoHDwVN2tF?type=track%2Cepisode&market=from_token\r\nexport function fetchCharts(token){\r\n    return function(dispatch){\r\n        const url = `${baseUri}playlists/37i9dQZEVXbMDoHDwVN2tF`\r\n        Axios.get(url, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then( charts => {\r\n                let tracks = charts.data.tracks.items.map(\r\n                    (song) => {return song.track}\r\n                )\r\n                dispatch({\r\n                    type: FETCH_CHARTS,\r\n                    charts: tracks\r\n                })\r\n            }\r\n        )\r\n    }\r\n} \r\n\r\nexport function fetchPlaylists(token){\r\n    return function(dispatch){\r\n        const url = `${baseUri}browse/categories/toplists/playlists?limit=50&country=AU&offset=0`\r\n        Axios.get(url, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then( charts => {\r\n                dispatch({\r\n                    type: FETCH_CHARTS,\r\n                    charts: charts.data.playlists.items\r\n                })\r\n            }\r\n        )\r\n    }\r\n} \r\n\r\nexport function getUserPlaylists(user_id, token){\r\n    return function(dispatch){\r\n        const url = userPlaylistsUri(user_id)\r\n        Axios.get(url, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then( res => {\r\n                let user_playlists = res.data.items\r\n                dispatch({\r\n                    type: FETCH_USER_PLAYLISTS,\r\n                    user_playlists: user_playlists\r\n                })\r\n            }\r\n        )\r\n    }\r\n} \r\n\r\nexport function fetchGenre(token, genre){\r\n    return function(dispatch){\r\n        const url = genreTracksUri(genre)\r\n        Axios.get(url, {\r\n            headers: {'Authorization': `Bearer ${token}`}\r\n        }).then( res => {\r\n                let genre_tracks = res.data.tracks.items\r\n                dispatch({\r\n                    type: FETCH_GENRE_TRACKS,\r\n                    genre_tracks: genre_tracks\r\n                })\r\n            }\r\n        )\r\n    }\r\n} ","export const GET_TOKEN = \"GET_TOKEN\"\r\nexport const SET_TOKEN = \"SET_TOKEN\"\r\nexport const FETCH_RECENTLY_PLAYED = \"FETCH_RECENTLY_PLAYED\"\r\nexport const FETCH_USER_TOP_TRACKS = \"FETCH_USER_TOP_TRACKS\"\r\nexport const FETCH_CHARTS = \"FETCH_CHARTS\"\r\nexport const SET_USER_ID = \"SET_USER_ID\"\r\nexport const FETCH_USER_PLAYLISTS = \"FETCH_USER_PLAYLISTS\"\r\nexport const FETCH_GENRE_TRACKS = \"FETCH_GENRE_TRACKS\"","// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce(function(initial, item) {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\n// window.location.hash=\"\"\r\n\r\nexport default hash;\r\n\r\n// http://localhost:3000/#access_token=BQAL2XHD396hmogp-AsCO4y_vUxO5o6Cbo\r\n// &token_type=Bearer\r\n//  &expires_in=3600","import React, { useState, useEffect } from 'react';\r\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\r\nimport {connect} from 'react-redux'\r\nimport {setToken} from '../actions/authActions'\r\nimport {getUserProfileId} from '../actions/actions'\r\nimport {getUserPlaylists} from '../actions/melodyActions'\r\nimport {authEndPoint,clientID,redirectUri,scopes} from '../config'\r\nimport hash from '../hash'\r\n\r\nconst Header = (props) => {\r\n  const [collapsed, setCollapsed] = useState(true);\r\n\r\n  const toggleNavbar = () => setCollapsed(!collapsed);\r\n\r\n  useEffect(() => {\r\n    let _token = hash.access_token\r\n    props.setToken(_token)\r\n    window.location.hash=\"\"\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    props.getUserProfileId(props.token)\r\n  }, [props.token])\r\n\r\n  useEffect(() => {\r\n    props.getUserPlaylists(props.id, props.token)\r\n  }, [props.token ,props.id])\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <Navbar dark>\r\n        <NavbarBrand href=\"/\" className=\"mr-auto\">Mellowdy | Discover yourself</NavbarBrand>\r\n        <NavbarToggler onClick={toggleNavbar} className=\"mr-2\" />\r\n        <Collapse isOpen={!collapsed} navbar>\r\n          <Nav navbar>\r\n            <NavItem>\r\n                {!props.token ?  \r\n                (<NavLink href={`${authEndPoint}?client_id=${clientID}&redirect_uri=${redirectUri}&response_type=token&show_dialog=true&scope=${scopes.join(\"%20\")}`}>\r\n                  Login With Spotify\r\n                </NavLink>):(\r\n                  <NavLink href={redirectUri}>\r\n                  Logout\r\n                  </NavLink>\r\n                )}\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink>GitHub</NavLink>\r\n            </NavItem>\r\n          </Nav>\r\n        </Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      token: state.auth.token,\r\n      id: state.general.id\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {setToken,getUserProfileId,getUserPlaylists})(Header);","import {SET_TOKEN} from './types'\r\n\r\nexport function setToken(token){\r\n    return ({\r\n        type: SET_TOKEN,\r\n        token\r\n    })\r\n}","import Axios from 'axios'\r\nimport {baseUri} from '../config'\r\nimport {SET_USER_ID} from './types'\r\n\r\nexport function getUserProfileId(token){\r\n    return function(dispatch){\r\n        const url = `${baseUri}me`\r\n        Axios.get(url, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then( res => {\r\n                let id = res.data.id\r\n                dispatch({\r\n                    type: SET_USER_ID,\r\n                    user_id: id\r\n                })\r\n            }\r\n        )\r\n    }\r\n} ","import React, { Component } from 'react'\r\n\r\nexport class Tag extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.props.setIsFetching(true)\r\n        this.props.changeTab(this.props.name)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <span className=\"tag\" onClick={this.handleClick}>{this.props.name ? (this.props.name):(\"Default\")}</span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tag\r\n","import React from 'react'\r\nimport Tag  from './Tag'\r\nimport {RECENTLY_PLAYED, YOUR_TOP_TRACKS, CHARTS} from '../TagBar/TagConstants'\r\n\r\nexport default function TagBar(props) {\r\n    return (\r\n        <div className=\"tag-container\">\r\n            <Tag \r\n            name={RECENTLY_PLAYED} \r\n            changeTab={props.changeTab}\r\n            setIsFetching={props.setIsFetching}/>\r\n            <Tag \r\n            name={YOUR_TOP_TRACKS} \r\n            changeTab={props.changeTab}\r\n            setIsFetching={props.setIsFetching}/>\r\n            <Tag \r\n            name={CHARTS}\r\n            changeTab={props.changeTab}\r\n            setIsFetching={props.setIsFetching}/>\r\n        </div>\r\n    )\r\n}\r\n","export const RECENTLY_PLAYED = \"Recently Played\"\r\nexport const YOUR_TOP_TRACKS = \"Your Top Tracks\"\r\nexport const CHARTS = \"Charts\"\r\nexport const ALBUM_VIEW = \"\"\r\nexport const ARTIST_VIEW = \"\"\r\n","import React, { Component } from 'react'\r\nimport {fetchRecentlyPlayed, fetchUserTopTracks, fetchCharts, fetchGenre} from '../../actions/melodyActions'\r\nimport {connect} from 'react-redux'\r\nimport { RECENTLY_PLAYED,YOUR_TOP_TRACKS, CHARTS } from '../TagBar/TagConstants'\r\n\r\nexport class PrimaryContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            dataReady: false,\r\n            currentDisplay:null\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let currentDisplay = null\r\n        if(this.props.isFetching){\r\n            switch(this.props.currentTab){\r\n                case RECENTLY_PLAYED:\r\n                    this.props.fetchRecentlyPlayed(this.props.token)\r\n                    break\r\n                case YOUR_TOP_TRACKS:\r\n                    this.props.fetchUserTopTracks(this.props.token)\r\n                    break\r\n                case CHARTS:\r\n                    this.props.fetchCharts(this.props.token)\r\n                    break\r\n                default:\r\n                    console.log(\"default\")\r\n                    this.props.fetchGenre(this.props.token, this.props.currentTab)\r\n                    break\r\n            }\r\n            this.props.setIsFetching(false)\r\n        }else{\r\n            switch(this.props.currentTab){\r\n                case RECENTLY_PLAYED:\r\n                    currentDisplay = this.props.recentlyPlayed\r\n                    break\r\n                case YOUR_TOP_TRACKS:\r\n                    currentDisplay = this.props.userTopTracks\r\n                    break\r\n                case CHARTS:\r\n                    currentDisplay = this.props.charts\r\n                    break\r\n                default:\r\n                    console.log(\"default\")\r\n                    currentDisplay = this.props.genreTracks\r\n                    break\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n        let currentDisplay = null\r\n        if(this.props.isFetching){\r\n            switch(this.props.currentTab){\r\n                case RECENTLY_PLAYED:\r\n                    this.props.fetchRecentlyPlayed(this.props.token)\r\n                    break\r\n                case YOUR_TOP_TRACKS:\r\n                    this.props.fetchUserTopTracks(this.props.token)\r\n                    break\r\n                case CHARTS:\r\n                    this.props.fetchCharts(this.props.token)\r\n                    break\r\n                default:\r\n                    console.log(\"default\")\r\n                    this.props.fetchGenre(this.props.token, this.props.currentTab)\r\n                    break\r\n            }\r\n            this.props.setIsFetching(false)\r\n        }else{\r\n            switch(this.props.currentTab){\r\n                case RECENTLY_PLAYED:\r\n                    currentDisplay = this.props.recentlyPlayed\r\n                    break\r\n                case YOUR_TOP_TRACKS:\r\n                    currentDisplay = this.props.userTopTracks\r\n                    break\r\n                case CHARTS:\r\n                    currentDisplay = this.props.charts\r\n                    break\r\n                default:\r\n                    console.log(\"default\")\r\n                    currentDisplay = this.props.genreTracks\r\n                    break\r\n            }\r\n            if(prevState.currentDisplay !== currentDisplay){\r\n                this.setState({\r\n                    currentDisplay: currentDisplay\r\n                })\r\n            }\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"primary-container my-4\">\r\n                \r\n                <div >\r\n                    <h2>{this.props.currentTab}</h2>\r\n                    {!this.props.isFetching && this.state.currentDisplay &&\r\n                    <div className=\"grid-container my-4\">\r\n                        {this.state.currentDisplay.filter(song => (song.preview_url))\r\n                        .map((song, index) => (\r\n                            <div className=\"song-container\" key={index}>\r\n                                <img onClick={() => this.props.fetchAudioAndDetails(song.id,song.preview_url)} src={song.album.images[0].url} alt=\"\"/>\r\n                            </div>\r\n                        ))}\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        token: state.auth.token,\r\n        recentlyPlayed: state.melodies.recently_played_songs,\r\n        userTopTracks: state.melodies.user_top_tracks,\r\n        charts: state.melodies.charts,\r\n        genreTracks: state.melodies.genre_tracks\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {fetchRecentlyPlayed, fetchUserTopTracks, fetchCharts, fetchGenre}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(PrimaryContainer)\r\n\r\n// dataready should be set to false when clicked on tag(Props??)","import React, { Component } from 'react'\r\nimport Axios from 'axios'\r\nimport {artistUri, artistAblumsUri, artistTopTracksUri,albumUri} from '../../config'\r\nimport {connect} from 'react-redux'\r\n\r\nexport class ArtistContainer extends Component {\r\n    \r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            artist_top_tracks: null,\r\n            artist_albums: null,\r\n            artist: null\r\n        }\r\n    }\r\n\r\n    getArtistTopTracks(artist_id){\r\n        Axios.get(artistTopTracksUri(artist_id), {\r\n            headers: {'Authorization': `Bearer ${this.props.token}`}\r\n        }).then(\r\n            res => {\r\n                this.setState({artist_top_tracks: res.data})}\r\n        )\r\n    }\r\n\r\n    getArtistAlbums(artist_id){\r\n        Axios.get(artistAblumsUri(artist_id), {\r\n            headers: {'Authorization': `Bearer ${this.props.token}`}\r\n        }).then(\r\n            res => {this.setState({artist_albums:res.data.items})}\r\n        )\r\n    }\r\n\r\n    getArtistDetails(artist_id){\r\n        Axios.get(artistUri(artist_id), {\r\n            headers: {'Authorization': `Bearer ${this.props.token}`}\r\n        }).then(\r\n            res => {this.setState({artist: res.data})}\r\n        )\r\n    }\r\n\r\n    playAlbum(album_id){\r\n        Axios({\r\n            method: 'get',\r\n            url: albumUri(album_id),\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`,\r\n            }\r\n        }).then(\r\n            res=>{\r\n            let curAlbum = res.data\r\n            this.props.fetchAudioAndDetails(curAlbum.tracks.items[0].id , curAlbum.tracks.items[0].preview_url)\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.currentArtistId !== this.props.currentArtistId){\r\n            let artist_id = this.props.currentArtistId\r\n            this.getArtistDetails(artist_id)\r\n            this.getArtistTopTracks(artist_id)\r\n            this.getArtistAlbums(artist_id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.state.artist && this.state.artist_albums && this.state.artist_top_tracks)\r\n        {\r\n            return (\r\n                <div className=\"artist-container\">\r\n                    <div>\r\n                        <div className=\"artist-details\">\r\n                            <div className=\"artist-img\">\r\n                                <img src={this.state.artist.images[0] ? (this.state.artist.images[0].url):(\"\")} alt=\"\"/>\r\n                            </div>\r\n                            <div className=\"artist-info\">\r\n                                <span>{this.state.artist.name}</span>\r\n                                <div className=\"my-2\">\r\n                                    <span>{this.state.artist.genres.map((genre,index)=>(<span className=\"clickable genre\" key={`genre-${index}`} onClick={() => this.props.setGenre(genre)}>{genre}</span>))}</span>\r\n                                </div>\r\n                                <span className=\"muted-text-light\">{this.state.artist.followers.total} followers</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"top-tracks\">\r\n                            <span>Top Tracks</span>\r\n                            <div className=\"song-container\">\r\n                                {this.state.artist_top_tracks.tracks.filter(track => (track.preview_url))\r\n                                .map((track, index) => (\r\n                                <img key={`track-${index}`} onClick={() => this.props.fetchAudioAndDetails(track.id, track.preview_url)} src={track.album.images[0].url} alt=\"\"/>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"top-tracks\">\r\n                            <span>Albums</span>\r\n                            <div className=\"song-container\">\r\n                                {this.state.artist_albums\r\n                                .filter(album => album.album_group === \"album\")\r\n                                .map((album, index) => (\r\n                                <img key={`album-${index}`}  onClick={() => this.playAlbum(album.id)} src={album.images[0].url} alt=\"\"/>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"top-tracks\">\r\n                            <span>Single</span>\r\n                            <div className=\"song-container\">\r\n                                {this.state.artist_albums\r\n                                .filter(album => album.album_group === \"single\")\r\n                                .map((album, index) => (\r\n                                <img key={`single-${index}`} onClick={() => this.playAlbum(album.id)} src={album.images[0].url} alt=\"\"/>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return null\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        token: state.auth.token\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ArtistContainer)\r\n","import React from 'react'\r\n\r\nexport default function BtnAddToLib(props) {\r\n\r\n\r\n    return (\r\n        <span className=\"add-button mx-2\" onClick={()=> props.addTrackToLib()}>\r\n            {props.trackInLibrary ? (<i className=\"fas fa-check\"></i>)\r\n                : (<i className=\"fas fa-plus\"></i>)}\r\n        </span>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nexport class BtnAddToPlaylist extends Component {\r\n    \r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            showMenu: false,\r\n        }\r\n        this.showMenu = this.showMenu.bind(this)\r\n        this.closeMenu = this.closeMenu.bind(this)\r\n    }\r\n\r\n    showMenu(event) {\r\n        event.preventDefault();\r\n        this.setState({\r\n            showMenu:true\r\n        }, () => {\r\n            document.addEventListener('click', this.closeMenu)\r\n        })\r\n    }\r\n\r\n    closeMenu(event) {\r\n        if(!this.dropdownMenu.contains(event.target)){\r\n            this.setState({\r\n                showMenu:false\r\n            }, () => {\r\n                document.removeEventListener('click', this.closeMenu)\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n           <span className=\"add-button mx-2\" onClick={this.showMenu} >\r\n                <i className=\"fas fa-list\"></i>\r\n                {\r\n                this.state.showMenu ? (\r\n                     <div className=\"playlist-menu\" ref={(element) => {\r\n                        this.dropdownMenu = element;\r\n                    }}>\r\n                        {\r\n                        this.props.user_playlists.map(\r\n                            playlist => (\r\n                                <button key={playlist.id} onClick={() => this.props.addTrackToPlaylist(playlist.id)}>{`+ ${playlist.name}`}</button>\r\n                            )\r\n                        )\r\n                        }\r\n                    </div>\r\n                ):(\r\n                    null\r\n                )\r\n                }\r\n            </span>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps=(state) => {\r\n    return{\r\n        user_playlists: state.melodies.user_playlists\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BtnAddToPlaylist)\r\n","import BtnAddToLib from '../Buttons/BtnAddToLib'\r\nimport BtnAddToPlaylist from '../Buttons/BtnAddToPlaylist'\r\nimport React, { Component } from 'react'\r\nimport {trackUri} from '../../config'\r\nimport Axios from 'axios'\r\nimport {connect} from 'react-redux'\r\n\r\nexport class SongContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            track_id: null,\r\n            track: null\r\n        }\r\n    }\r\n\r\n    getTrack(track_id){\r\n        Axios.get(trackUri(track_id), {\r\n            headers: {'Authorization': `Bearer ${this.props.token}`}\r\n        }).then(\r\n            res => {\r\n                this.setState({track: res.data})}\r\n        )\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.currentTrackId !== this.props.currentTrackId){\r\n            this.getTrack(this.props.currentTrackId)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            {this.state.track && \r\n                <div className=\"details-container\">\r\n                    <div>\r\n                        <div className=\"details-main-img\">\r\n                            <img src={this.state.track.album.images[0].url} alt=\"\"/>\r\n                            <div className=\"add-buttons\">\r\n                                <BtnAddToLib addTrackToLib={this.props.addTrackToLib} trackInLibrary= {this.props.trackInLibrary}/>\r\n                                <BtnAddToPlaylist addTrackToPlaylist={this.props.addTrackToPlaylist}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"details-info\">\r\n                            <div>\r\n                                <span className=\"song-title-text\">{this.state.track.name}</span>\r\n                                <span className=\"muted-text\">{this.state.track.artists.map((artist) => (artist.name)).join(' & ')}</span>\r\n                                <span className=\"muted-text\">{`From the album ${this.state.track.album.name}`}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        token: state.auth.token\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SongContainer)\r\n","import React, { Component } from 'react'\r\nimport Axios from 'axios'\r\nimport {albumUri} from '../../config'\r\nimport {connect} from 'react-redux'\r\n\r\nexport class AlbumContainer extends Component {\r\n    \r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            album: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n    \r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.currentAlbumId !== this.props.currentAlbumId){\r\n            let album_id = this.props.currentAlbumId\r\n            Axios({\r\n                method: 'get',\r\n                url: albumUri(album_id),\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.props.token}`,\r\n                }\r\n            }).then(\r\n                res=>{\r\n                    this.setState({\r\n                    album: res.data\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.state.album)\r\n        {\r\n            return (\r\n                <div className=\"album-container\">\r\n                    <div>\r\n                        <div className=\"album-details\">\r\n                            <div className=\"album-img\">\r\n                                <img src={this.state.album.images[1].url} alt=\"\"/>\r\n                            </div>\r\n                            <div className=\"album-info\">\r\n                                <span>{this.state.album.name}</span>\r\n                                <span className=\"muted-text-light\">By {this.state.album.artists[0].name}</span>\r\n                                <span className=\"muted-text-light\">Released {this.state.album.release_date}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"album-tracks\">\r\n                            <span>Tracks</span>\r\n                            <div className=\"track-list-container\">\r\n                                {this.state.album.tracks.items.filter(track => (track.preview_url))\r\n                                .map((track, index) => (\r\n                                <div className=\"album-track mt-1\" key={index}>\r\n                                    <img onClick={() => this.props.fetchAudioAndDetails(track.id,track.preview_url)} src={this.state.album.images[1].url} alt=\"\"/>\r\n                                    <span className=\"ml-3\">{track.name}</span>\r\n                                </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return null\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        token: state.auth.token\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AlbumContainer)\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {fetchRecentlyPlayed} from '../../actions/melodyActions'\r\nimport Axios from 'axios'\r\nimport {convertTrackIdToUri,\r\n    saveTrackToLibUri,\r\n    saveTrackToPlaylistUri,\r\n    checkUserLibUri,\r\n    albumUri,\r\n    trackUri} from '../../config'\r\nimport TagBar from '../TagBar/TagBar'\r\nimport PrimaryContainer from './PrimaryContainer'\r\nimport {RECENTLY_PLAYED, YOUR_TOP_TRACKS, CHARTS} from '../TagBar/TagConstants'\r\nimport ArtistContainer from './ArtistContainer'\r\nimport SongContainer from './SongContainer'\r\nimport {authEndPoint,clientID,redirectUri,scopes} from '../../config'\r\nimport AlbumContainer from './AlbumContainer'\r\n\r\nexport class Home extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            showOnlyPlayable: true,\r\n            dataReady: true,\r\n            isFetching: true,\r\n            songPlaying: false,\r\n            audio: null,\r\n            currentTab: RECENTLY_PLAYED,\r\n            trackInLibrary: false,\r\n            currentArtistId: null,\r\n            currentAlbumId: null,\r\n            currentTrackId: null,\r\n            currentTrack: null,\r\n            currentGenre: null,\r\n        }\r\n        this.fetchAudioAndDetails = this.fetchAudioAndDetails.bind(this);\r\n        this.changeTab = this.changeTab.bind(this)\r\n        this.setIsFetching = this.setIsFetching.bind(this)\r\n        this.addTrackToLib = this.addTrackToLib.bind(this)\r\n        this.addTrackToPlaylist = this.addTrackToPlaylist.bind(this)\r\n        this.setGenre = this.setGenre.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        \r\n    }\r\n\r\n    // this should be name handleTrackClick or smth\r\n    fetchAudioAndDetails(track_id, track_preview_url){\r\n        this.playAudio(track_id, track_preview_url)\r\n    }\r\n\r\n    checkTrackInLib(track_id){\r\n        Axios.get(checkUserLibUri(track_id), {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        }).then(\r\n            data => {\r\n                let result = data.data[0]\r\n                this.setState({\r\n                    trackInLibrary: result\r\n                })\r\n                \r\n            }    \r\n        )\r\n    }\r\n\r\n    processTrack(){\r\n        \r\n    }\r\n\r\n    playAudio(track_id, track_preview_url){\r\n\r\n        let audio = new Audio(track_preview_url)\r\n\r\n        Axios.get(trackUri(track_id), {\r\n            headers: {'Authorization': `Bearer ${this.props.token}`}\r\n        }).then(\r\n            res => {\r\n            let curTrack = res.data\r\n            let curAlbumId = curTrack.album.id\r\n            let curArtistId = curTrack.artists[0].id\r\n            if (!this.state.songPlaying){\r\n            audio.play();\r\n            this.setState({\r\n                    songPlaying: true,\r\n                    currentTrack: res.data,\r\n                    currentAlbumId: curAlbumId,\r\n                    currentArtistId: curArtistId,\r\n                    currentTrackId: track_id,\r\n                    audio,\r\n                })\r\n            }else{\r\n                if(this.state.currentTrackId == track_id){\r\n                    this.state.audio.pause();\r\n                    this.setState(\r\n                        {\r\n                            songPlaying: false,\r\n                        }\r\n                    )\r\n                }else{\r\n                    this.state.audio.pause()\r\n                    audio.play()\r\n                    this.setState({\r\n                        songPlaying:true,\r\n                        currentTrack: res.data,\r\n                        currentAlbumId: curAlbumId,\r\n                        currentArtistId: curArtistId,\r\n                        currentTrackId: track_id,\r\n                        audio,})\r\n                }\r\n            }}\r\n        )\r\n\r\n        \r\n        this.checkTrackInLib(track_id)\r\n    }\r\n\r\n    changeTab(tab){\r\n        this.setState({\r\n            currentTab: tab\r\n        })\r\n    }\r\n\r\n    setGenre(genre){\r\n        this.setState({\r\n            currentGenre: genre,\r\n            currentTab: genre,\r\n            isFetching: true\r\n        })\r\n    }\r\n\r\n    setIsFetching(boolean){\r\n        this.setState({\r\n            isFetching:boolean\r\n        })\r\n    }\r\n\r\n    addTrackToLib(){\r\n        let track_id = this.state.currentTrackId\r\n        Axios({\r\n            method: 'put',\r\n            url: saveTrackToLibUri(track_id),\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        }).then(\r\n            this.setState(\r\n                {\r\n                    trackInLibrary: true\r\n                }\r\n            )\r\n        )\r\n    }\r\n\r\n\r\n    addTrackToPlaylist(playlist_id){\r\n        let track_uri = convertTrackIdToUri(this.state.currentTrackId)\r\n        Axios({\r\n            method: 'post',\r\n            url: saveTrackToPlaylistUri(playlist_id, track_uri),\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`,\r\n                'Content-Type': 'application/json',\r\n            }\r\n        }).then(\r\n            console.log(\"Added track to playlist\")\r\n        )\r\n    }\r\n\r\n    render() {\r\n        if(!this.props || !this.props.token){\r\n            return (\r\n                <div className=\"login-container\">\r\n                    <span>The new way to discover music feat. The Spotify API</span>\r\n                    <br/>\r\n                    <span className=\"muted-text\">A web project by Aung Phone Khant (Derrick)</span>\r\n                    <div><span className=\"tag mt-3\">\r\n                        <a href={`${authEndPoint}?client_id=${clientID}&redirect_uri=${redirectUri}&response_type=token&show_dialog=true&scope=${scopes.join(\"%20\")}`}>\r\n                            Login To Spotify First\r\n                        </a></span></div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return (\r\n                <div>\r\n                    <TagBar changeTab={this.changeTab} setIsFetching={this.setIsFetching}/>\r\n                    <div className=\"main-container\">\r\n                        <PrimaryContainer \r\n                        isFetching={this.state.isFetching} \r\n                        setIsFetching={this.setIsFetching}\r\n                        currentTab={this.state.currentTab} \r\n                        fetchAudioAndDetails={this.fetchAudioAndDetails}/>\r\n                        <SongContainer \r\n                        currentTrackId={this.state.currentTrackId} \r\n                        addTrackToLib={this.addTrackToLib} \r\n                        addTrackToPlaylist={this.addTrackToPlaylist}\r\n                        trackInLibrary={this.state.trackInLibrary}\r\n                        />\r\n                    </div>\r\n                    <ArtistContainer \r\n                    currentArtistId={this.state.currentArtistId}\r\n                    fetchAudioAndDetails={this.fetchAudioAndDetails}\r\n                    playAlbum={this.playAlbum}\r\n                    setGenre={this.setGenre}\r\n                    />\r\n                    <AlbumContainer \r\n                    currentAlbumId={this.state.currentAlbumId}\r\n                    fetchAudioAndDetails={this.fetchAudioAndDetails}\r\n                    />\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        token: state.auth.token,\r\n        recentlyPlayed: state.melodies.recently_played_songs\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {fetchRecentlyPlayed}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)\r\n","import {FETCH_RECENTLY_PLAYED,\r\n    FETCH_USER_TOP_TRACKS,\r\n    FETCH_CHARTS,\r\n    FETCH_USER_PLAYLISTS,\r\n    FETCH_GENRE_TRACKS} from '../actions/types'\r\n\r\nconst initialState = {\r\n    recently_played_songs : [],\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case FETCH_RECENTLY_PLAYED:\r\n            return {\r\n                ...state,\r\n                recently_played_songs: action.recentlyPlayedSongs\r\n            }\r\n        case FETCH_USER_TOP_TRACKS:\r\n            return {\r\n                ...state,\r\n                user_top_tracks: action.userTopTracks\r\n            }\r\n        case FETCH_CHARTS:\r\n            return {\r\n                ...state,\r\n                charts: action.charts\r\n            }\r\n        case FETCH_CHARTS:\r\n            return {\r\n                ...state,\r\n                charts: action.charts\r\n            }\r\n        case FETCH_USER_PLAYLISTS:\r\n            return {\r\n                ...state,\r\n                user_playlists: action.user_playlists\r\n            }\r\n        case FETCH_GENRE_TRACKS:\r\n            return {\r\n                ...state,\r\n                genre_tracks: action.genre_tracks\r\n            }\r\n        default:\r\n            return state;    \r\n    }\r\n}","import {SET_TOKEN} from '../actions/types'\r\n\r\nconst initialState = {\r\n    token : null,\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case SET_TOKEN:\r\n            return{\r\n                ...state,\r\n                token: action.token                \r\n            }\r\n        default:\r\n            return state;    \r\n    }\r\n}","import {SET_USER_ID} from '../actions/types'\r\n\r\nconst initialState = {\r\n    id : null,\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n    switch(action.type){\r\n        case SET_USER_ID:\r\n            return{\r\n                ...state,\r\n                id: action.user_id                \r\n            }\r\n        default:\r\n            return state;    \r\n    }\r\n}","import {combineReducers} from 'redux'\r\nimport melodyReducer from './melodyReducer'\r\nimport authReducer from './authReducer'\r\nimport actionReducer from './actionReducer'\r\n\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n    melodies: melodyReducer,\r\n    general: actionReducer,\r\n})\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from './reducers/rootReducer'\r\n\r\nconst initialState = {}\r\nconst middleware = [thunk, ]\r\n\r\n// dev config\r\n// const store = createStore(rootReducer, initialState, compose(applyMiddleware(...middleware), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()))\r\n\r\n// prod config\r\nconst store = createStore(rootReducer, initialState, compose(applyMiddleware(...middleware)))\r\n\r\nexport default store","import './App.css';\nimport React, { Component } from 'react'\nimport Header from './components/Header'\nimport Home from './components/HomePage/Home'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nexport class App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <div className=\"App\">\n          <Header/>\n          <Home/>\n        </div>\n      </Provider>\n      \n    )\n  }\n}\n\nexport default App\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}